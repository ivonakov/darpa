const leftPlayer=document.querySelector("#leftPlayer"),rightPlayer=document.querySelector("#rightPlayer"),rope=document.querySelector("#rope"),leftMessageContainer=document.querySelector(".leftMessage small");let leftMessage=leftMessageContainer.innerHTML;const rightMessageContainer=document.querySelector(".rightMessage small");let rightMessage=rightMessageContainer.innerHTML,step=1;function moveleft(){rope.style.left=parseInt(rope.style.left)-step+"%",leftPlayer.style.left=parseInt(leftPlayer.style.left)-step+"%",rightPlayer.style.right=parseInt(rightPlayer.style.right)+step+"%",leftMessage=parseInt(rightPlayer.style.right.replace(/[^0-9]/g,""))+parseInt(25),rightMessage=parseInt(leftPlayer.style.left.replace(/[^0-9]/g,""))+parseInt(25),rope.style.left<="12%"&&gameOver("leftPlayer"),message(leftMessage,rightMessage),changeImg()}function moveright(){rope.style.left=parseInt(rope.style.left)+step+"%",leftPlayer.style.left=parseInt(leftPlayer.style.left)+step+"%",rightPlayer.style.right=parseInt(rightPlayer.style.right)-step+"%",leftMessage=parseInt(rightPlayer.style.right.replace(/[^0-9]/g,""))+parseInt(25),rightMessage=parseInt(leftPlayer.style.left.replace(/[^0-9]/g,""))+parseInt(25),rope.style.left>="48%"&&gameOver("rightPlayer"),message(leftMessage,rightMessage),changeImg()}function moveSelection(e){switch(e.keyCode){case 68:moveleft();break;case 80:moveright();break;case 37:moveleft();break;case 39:moveright()}}function message(e,t){leftMessageContainer.innerHTML=e,rightMessageContainer.innerHTML=t}function gameOver(e){document.querySelector("section").style.display="none";let t=document.querySelector(".gameOver");document.querySelector(".gameOver small").innerHTML="leftPlayer"==e?"Player 1":"Player 2",t.style.display="flex",window.removeEventListener("keydown",moveSelection),window.addEventListener("keypress",function(e){e.preventDefault(),13!==e.keyCode&&32!==e.keyCode||document.querySelector("#reloadPage").click()})}function changeImg(){let e=rope.style.left,t=document.querySelector("#leftPlayer img"),r=document.querySelector("#leftPlayer source"),l=document.querySelector("#rightPlayer img"),s=document.querySelector("#rightPlayer source");e<="24%"?(t.src="img/left_2.gif",r.srcset="img/left_2.gif",l.src="img/right_0.gif",s.srcset="img/right_0.gif"):e>="26%"&&e<="28%"?(t.src="img/left_1.gif",r.srcset="img/left_1.gif",l.src="img/right_0.gif",s.srcset="img/right_0.gif"):e>="30%"&&e<="32%"?(t.src="img/left_0.gif",r.srcset="img/left_0.gif",l.src="img/right_2.gif",s.srcset="img/right_2.gif"):e>="36%"?(t.src="img/left_0.gif",r.srcset="img/left_0.gif",l.src="img/right_2.gif",s.srcset="img/right_2.gif"):(t.src="img/left_1.gif",r.srcset="img/left_1.gif",l.src="img/right_1.gif",s.srcset="img/right_1.gif")}leftPlayer.style.position="absolute",leftPlayer.style.left="25%",leftPlayer.style.top="45%",rightPlayer.style.position="absolute",rightPlayer.style.right="25%",rightPlayer.style.top="45%",rope.style.left="29%",message(50,50);var modal=document.getElementById("modalAbout"),btn=document.getElementById("btnAbout"),span=document.getElementsByClassName("close")[0];function reloadPage(){window.location.reload()}function docReady(){window.addEventListener("keydown",moveSelection),document.querySelector("#loader").style.display="none"}btn.onclick=function(){modal.style.display="block"},span.onclick=function(){modal.style.display="none"},window.onclick=function(e){e.target==modal&&(modal.style.display="none")};